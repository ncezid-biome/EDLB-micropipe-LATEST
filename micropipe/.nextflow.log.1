Jan-27 13:36:44.988 [main] DEBUG nextflow.cli.Launcher - $> nextflow main.nf --demultiplexing --samplesheet ../samples_1_basecalling.csv --fastq ../test_data/fq/ --datadir /test_data/ --outdir DemuxAndAssemblyTest
Jan-27 13:36:45.156 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 21.10.6
Jan-27 13:36:45.197 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [stupefied_fermat] - revision: 064d528fa3
Jan-27 13:36:45.219 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /scicomp/home-pure/suj7/micropipe/nextflow.config
Jan-27 13:36:45.220 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /scicomp/home-pure/suj7/micropipe/nextflow.config
Jan-27 13:36:45.253 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Jan-27 13:36:46.577 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/scicomp/home-pure/suj7/.nextflow/plugins
Jan-27 13:36:46.579 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jan-27 13:36:46.594 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jan-27 13:36:46.596 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jan-27 13:36:46.600 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Jan-27 13:36:46.612 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jan-27 13:36:46.673 [main] DEBUG nextflow.Session - Session uuid: 8c50fb47-4307-42d1-a380-a6b448ef425e
Jan-27 13:36:46.673 [main] DEBUG nextflow.Session - Run name: stupefied_fermat
Jan-27 13:36:46.674 [main] DEBUG nextflow.Session - Executor pool size: 16
Jan-27 13:36:46.697 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 21.10.6 build 5660
  Created: 21-12-2021 16:55 UTC (11:55 EDT)
  System: Linux 3.10.0-1160.49.1.el7.x86_64
  Runtime: Groovy 3.0.9 on OpenJDK 64-Bit Server VM 1.8.0_312-b07
  Encoding: UTF-8 (UTF-8)
  Process: 104133@login02.aspen.biotech.cdc.gov [158.111.36.106]
  CPUs: 16 - Mem: 125.7 GB (858.8 MB) - Swap: 4 GB (2.6 GB)
Jan-27 13:36:46.738 [main] DEBUG nextflow.Session - Work-dir: /scicomp/home-pure/suj7/micropipe/work [nfs]
Jan-27 13:36:46.762 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jan-27 13:36:46.776 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jan-27 13:36:46.858 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 17; maxThreads: 1000
Jan-27 13:36:46.982 [main] DEBUG nextflow.Session - Session start invoked
Jan-27 13:36:46.989 [main] DEBUG nextflow.trace.TraceFileObserver - Flow starting -- trace file: /scicomp/home-pure/suj7/micropipe/DemuxAndAssemblyTest/trace.txt
Jan-27 13:36:47.045 [main] WARN  nextflow.NextflowMeta$Preview - DSL 2 PREVIEW MODE IS DEPRECATED - USE THE STABLE VERSION INSTEAD -- Read more at https://www.nextflow.io/docs/latest/dsl2.html#dsl2-migration-notes
Jan-27 13:36:49.690 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jan-27 13:36:49.822 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 17; maxThreads: 1000
Jan-27 13:36:49.910 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:gpu` matches labels `gpu,guppy_gpu` for process with name demultiplexing_guppy
Jan-27 13:36:49.917 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:49.917 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:49.922 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Jan-27 13:36:49.929 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=16; memory=125.7 GB; capacity=16; pollInterval=100ms; dumpInterval=5m
Jan-27 13:36:50.051 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:cpu` matches labels `cpu,big_mem` for process with name assembly:porechop
Jan-27 13:36:50.051 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:big_mem` matches labels `cpu,big_mem` for process with name assembly:porechop
Jan-27 13:36:50.052 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:porechop` matches process assembly:porechop
Jan-27 13:36:50.054 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.054 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.070 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:cpu` matches labels `cpu` for process with name assembly:japsa
Jan-27 13:36:50.071 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:japsa` matches process assembly:japsa
Jan-27 13:36:50.072 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.072 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.085 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:cpu` matches labels `cpu,big_mem` for process with name assembly:flye
Jan-27 13:36:50.086 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:big_mem` matches labels `cpu,big_mem` for process with name assembly:flye
Jan-27 13:36:50.086 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:flye` matches process assembly:flye
Jan-27 13:36:50.087 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.087 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.099 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:cpu` matches labels `cpu,racon` for process with name assembly:racon_cpu
Jan-27 13:36:50.100 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:racon_cpu` matches process assembly:racon_cpu
Jan-27 13:36:50.101 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.101 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.117 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:cpu` matches labels `cpu,medaka` for process with name assembly:medaka_cpu
Jan-27 13:36:50.117 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:medaka` matches labels `cpu,medaka` for process with name assembly:medaka_cpu
Jan-27 13:36:50.119 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.119 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.130 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:cpu` matches labels `cpu,nextpolish` for process with name assembly:nextpolish
Jan-27 13:36:50.130 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:nextpolish` matches labels `cpu,nextpolish` for process with name assembly:nextpolish
Jan-27 13:36:50.131 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.131 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.138 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:circlator` matches labels `circlator` for process with name assembly:fixstart
Jan-27 13:36:50.139 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.140 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.149 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:cpu` matches labels `cpu` for process with name assembly:quast
Jan-27 13:36:50.149 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:quast` matches process assembly:quast
Jan-27 13:36:50.150 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
Jan-27 13:36:50.150 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-27 13:36:50.153 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: demultiplexing_guppy_cpu, filtlong, medaka_cpu, rasusa, assembly:medaka_cpu, basecalling_demultiplexing_guppy, fixstart_LR, assembly:quast, fixstart, assembly:porechop, assembly:flye, nextpolish, assembly:japsa, basecalling_demultiplexing_guppy_cpu, flye, assembly:racon_cpu, basecalling_cpu, japsa, basecalling_single_isolate, porechop, racon_cpu, nextpolish_LR, assembly:nextpolish, assembly:fixstart, demultiplexing_qcat, pycoqc, quast, demultiplexing_guppy, basecalling, basecalling_cpu_single_isolate
Jan-27 13:36:50.155 [main] DEBUG nextflow.Session - Ignite dataflow network (12)
Jan-27 13:36:50.164 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > demultiplexing_guppy
Jan-27 13:36:50.165 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:porechop
Jan-27 13:36:50.166 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:japsa
Jan-27 13:36:50.166 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:flye
Jan-27 13:36:50.167 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:racon_cpu
Jan-27 13:36:50.167 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:medaka_cpu
Jan-27 13:36:50.167 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:nextpolish
Jan-27 13:36:50.168 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:fixstart
Jan-27 13:36:50.168 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > assembly:quast
Jan-27 13:36:50.168 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Jan-27 13:36:50.169 [main] DEBUG nextflow.Session - Session await
Jan-27 13:36:50.373 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-27 13:36:50.379 [Task submitter] INFO  nextflow.Session - [de/f7c448] Submitted process > demultiplexing_guppy (1)
Jan-27 13:36:50.876 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: demultiplexing_guppy (1); status: COMPLETED; exit: 127; error: -; workDir: /scicomp/home-pure/suj7/micropipe/work/de/f7c448c7661a34660bdb654da24ec2]
Jan-27 13:36:50.906 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'demultiplexing_guppy (1)'

Caused by:
  Process `demultiplexing_guppy (1)` terminated with an error exit status (127)

Command executed:

  set +eu
  /scratch/ont-guppy/bin/guppy_barcoder -i fq -s $PWD --device auto --compress_fastq --recursive --trim_barcodes -q 0 --barcode_kits SQK-RBK004 --worker_threads 2
  cp .command.log guppy_barcoder.log
  for dir in barc*/ uncl*/; do
  	barcode_id=${dir%*/}
  	cat ${dir}/*.fastq.gz > ${barcode_id}.fastq.gz
  done
  /scratch/ont-guppy/bin/guppy_barcoder --version > guppy_barcoder_version.txt

Command exit status:
  127

Command output:
  (empty)

Command error:
  .command.sh: line 3: /scratch/ont-guppy/bin/guppy_barcoder: No such file or directory
  cat: barc*//*.fastq.gz: No such file or directory
  cat: uncl*//*.fastq.gz: No such file or directory
  .command.sh: line 9: /scratch/ont-guppy/bin/guppy_barcoder: No such file or directory

Work dir:
  /scicomp/home-pure/suj7/micropipe/work/de/f7c448c7661a34660bdb654da24ec2

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Jan-27 13:36:50.926 [main] DEBUG nextflow.Session - Session await > all process finished
Jan-27 13:36:50.932 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `demultiplexing_guppy (1)` terminated with an error exit status (127)
Jan-27 13:36:50.958 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jan-27 13:36:50.972 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=534ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=2; peakMemory=0; ]
Jan-27 13:36:50.972 [main] DEBUG nextflow.trace.TraceFileObserver - Flow completing -- flushing trace file
Jan-27 13:36:50.976 [main] DEBUG nextflow.trace.ReportObserver - Flow completing -- rendering html report
Jan-27 13:36:51.012 [main] DEBUG nextflow.trace.ReportObserver - Execution report summary data:
  [{"cpuUsage":null,"process":"demultiplexing_guppy","mem":null,"memUsage":null,"timeUsage":null,"vmem":null,"reads":null,"cpu":null,"time":{"mean":267,"min":267,"q1":267,"q2":267,"q3":267,"max":267,"minLabel":"demultiplexing_guppy (1)","maxLabel":"demultiplexing_guppy (1)","q1Label":"demultiplexing_guppy (1)","q2Label":"demultiplexing_guppy (1)","q3Label":"demultiplexing_guppy (1)"},"writes":null}]
Jan-27 13:36:51.781 [main] DEBUG nextflow.trace.TimelineObserver - Flow completing -- rendering html timeline
Jan-27 13:36:51.912 [main] WARN  nextflow.dag.GraphvizRenderer - To render the execution DAG in the required format it is required to install Graphviz -- See http://www.graphviz.org for more info.
Jan-27 13:36:51.928 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Jan-27 13:36:51.959 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
